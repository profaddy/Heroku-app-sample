{"ast":null,"code":"var _jsxFileName = \"/home/adnan/Desktop/Projects/pocs/credit-debit-software/client/src/containers/EntriesManager/entries-manager.js\";\nimport React, { Component } from \"react\";\nimport MUIDataTable from \"mui-datatables\";\nimport Button from \"@material-ui/core/Button\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport LocalMallOutlinedIcon from \"@material-ui/icons/LocalMallOutlined\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport PersonAddOutlinedIcon from \"@material-ui/icons/PersonAddOutlined\";\nimport AddCircleOutlineOutlinedIcon from \"@material-ui/icons/AddCircleOutlineOutlined\";\nimport ModalWrapper from \"../../components/ModalWrapper/ModalWrapper\";\nimport EventOutlinedIcon from \"@material-ui/icons/EventOutlined\";\nimport PermIdentityOutlinedIcon from \"@material-ui/icons/PermIdentityOutlined\";\nimport DialogWrapper from \"../../components/DialogWrapper/DialogWrapper\";\nimport AdminAuthentication from \"../../components/AdminAuthentication/AdminAuthentication\";\nimport EntryForm from \"../../components/EntryForm/EntryForm\";\nimport AddUserForm from \"../../components/AddUserForm/AddUserForm\";\nimport AddInventoryForm from \"../../components/AddInventoryForm/AddInventoryForm\";\nimport DeleteDialogWrapper from \"../../components/DeleteDialogWrapper/DeleteDialogWrapper\";\nimport FilterForm from \"../../components/FilterForm/FilterForm\";\nimport styles from \"./styles\";\nimport { fetchProducts } from \"./entries-manager-api.js\";\nimport ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\nimport ArrowUpwardIcon from \"@material-ui/icons/ArrowUpward\";\n\nclass EntriesManager extends Component {\n  constructor(props) {\n    super(props);\n    this.compactColumns = [{\n      name: \"Inventory\"\n    }, {\n      name: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 18\n        }\n      }, /*#__PURE__*/React.createElement(ArrowUpwardIcon, {\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 12\n        }\n      }), \" \", \"Taken\")\n    }, {\n      name: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 18\n        }\n      }, /*#__PURE__*/React.createElement(ArrowDownwardIcon, {\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 12\n        }\n      }), \" \", \"Given\")\n    }, {\n      name: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 18\n        }\n      }, /*#__PURE__*/React.createElement(LocalMallOutlinedIcon, {\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 16\n        }\n      }), \" \", \"Balance\")\n    }];\n    this.columns = [{\n      name: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(EventOutlinedIcon, {\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }\n      }), \" \", \"Created_at\")\n    }, {\n      name: \"Inventory\"\n    }, {\n      name: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(PermIdentityOutlinedIcon, {\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }), \" \", \"Username\")\n    }, {\n      name: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(ArrowUpwardIcon, {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }), \" \", \"Taken\")\n    }, {\n      name: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(ArrowDownwardIcon, {\n        style: {\n          color: \"green\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }\n      }), \" \", \"Given\")\n    }, {\n      name: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(LocalMallOutlinedIcon, {\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }\n      }), \" \", \"Balance\")\n    }, {\n      name: \"Edit\",\n      options: {\n        customBodyRender: (value, tableMeta, updateValue) => {\n          return /*#__PURE__*/React.createElement(Button, {\n            onClick: () => {\n              this.props._fetchEntryInfo(value, \"edit\");\n\n              this.setState({\n                entryMode: \"edit\"\n              });\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 25\n            }\n          }, \" \", /*#__PURE__*/React.createElement(EditIcon, {\n            color: \"primary\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }\n          }));\n        }\n      }\n    }, {\n      name: \"Delete\",\n      options: {\n        customBodyRender: (value, tableMeta, updateValue) => {\n          return /*#__PURE__*/React.createElement(Button, {\n            onClick: () => {\n              this.props._fetchEntryInfo(value, \"delete\");\n\n              this.setState({\n                entryMode: \"delete\",\n                deleteItemId: value,\n                showDeleteDialog: true\n              });\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 25\n            }\n          }, \" \", /*#__PURE__*/React.createElement(DeleteIcon, {\n            color: \"primary\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }\n          }));\n        }\n      }\n    }];\n    this.options = {\n      filterType: \"multiselect\",\n      responsive: \"scroll\",\n      rowsPerPage: 100,\n      selectableRowsHeader: false,\n      selectableRows: false,\n      rowsPerPageOptions: [10, 30, 50, 100],\n      fixedHeader: true\n    };\n\n    this.getProducts = async () => {\n      const response = await fetchProducts();\n      console.log(response, \"product response\");\n    };\n\n    this.openAddEntryModal = () => {\n      this.props._openAddEntryModal();\n    };\n\n    this.openAddUserModal = () => {\n      this.props._openAddUserModal();\n    };\n\n    this.openAddInventoryModal = () => {\n      this.props._openAddInventoryModal();\n    };\n\n    this.closeAddEntryModal = () => {\n      this.props._closeAddEntryModal();\n\n      this.setState({\n        entryMode: \"add\"\n      });\n    };\n\n    this.closeAddUserModal = () => {\n      this.props._closeAddUserModal();\n    };\n\n    this.closeAddInventoryrModal = () => {\n      this.props._closeAddInventoryModal();\n    };\n\n    this.onDeleteEntry = () => {\n      const {\n        selectedEntry\n      } = this.props;\n\n      this.props._deleteEntry({ ...selectedEntry,\n        entry_mode: \"edit\"\n      });\n    };\n\n    this.hideDeleteDialog = () => {\n      this.setState({\n        entryMode: \"add\",\n        showDeleteDialog: false\n      });\n    };\n\n    this.openEditConfirmDialog = () => {\n      this.setState({\n        isEditConfirmDialogOpen: true\n      });\n    };\n\n    this.closeEditConfirmDialog = () => {\n      this.setState({\n        isEditConfirmDialogOpen: false,\n        isAuthenticated: false\n      });\n    };\n\n    this.onEditConfirmDialogSubmit = e => {\n      e.preventDefault();\n    };\n\n    this.toggleEditOptions = value => {\n      let columns = this.columns;\n\n      if (value === \"showEdit\") {\n        this.setState({\n          showEditOptions: true,\n          columns: columns\n        });\n      } else if (value === \"hideEdit\") {\n        const filteredColumns = columns.filter((column, index) => index < 6);\n        localStorage.setItem(\"authenticated\", false);\n        this.setState({\n          columns: filteredColumns,\n          showEditOptions: false\n        });\n      }\n    };\n\n    this.checkAdminPassword = values => {\n      if (values.adminPassword === this.props.adminPassword) {\n        localStorage.setItem(\"authenticated\", true);\n\n        this.props._doAuthenticateEdit(true);\n\n        this.toggleEditOptions(\"showEdit\");\n        this.closeEditConfirmDialog();\n      } else {\n        this.props.createNotification(\"Incorrect credentials\", \"error\");\n      }\n    };\n\n    this.state = {\n      addEntryModalShowing: false,\n      showCompact: true,\n      savedEntries: [],\n      entryMode: \"add\",\n      showDeleteDialog: false,\n      showEditOptions: false,\n      columns: this.columns.filter((column, index) => index < 7),\n      isEditConfirmDialogOpen: false,\n      compactColumns: this.compactColumns,\n      filters: {\n        created_at: null,\n        user_id: null\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getProducts();\n\n    this.props._fetchEntries();\n\n    this.props._fetchUsers();\n\n    this.props._fetchInventories();\n\n    const authenticated = localStorage.getItem(\"authenticated\", true);\n\n    if (authenticated === \"true\") {\n      this.setState({\n        columns: this.columns,\n        showEditOptions: true\n      });\n    }\n  }\n\n  render() {\n    const {\n      entries,\n      addEntryModalShowing,\n      addUserModalShowing,\n      addInventoryModalShowing,\n      classes,\n      compactEntries\n    } = this.props;\n    const {\n      showCompact\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }\n    }, this.state.showCompact && /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      variant: \"contained\",\n      onClick: () => this.setState({\n        showCompact: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 25\n      }\n    }, \"Show Detailed\"), !this.state.showCompact && /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      className: classes.button,\n      onClick: () => this.setState({\n        showCompact: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 25\n      }\n    }, \"Show Compact\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.AddEntryButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      variant: \"contained\",\n      className: classes.button,\n      onClick: this.openAddEntryModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(AddCircleOutlineOutlinedIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginRight: 5\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 25\n      }\n    }, \"Add Entry\")), /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      variant: \"contained\",\n      className: classes.button,\n      onClick: this.openAddUserModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(PersonAddOutlinedIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 25\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginRight: 5\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 25\n      }\n    }, \"Add User\")), /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      variant: \"contained\",\n      className: classes.button,\n      onClick: this.openAddInventoryModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }\n    }, \"Add Inventry\"), !this.state.showEditOptions && showCompact === false && /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      onClick: () => this.openEditConfirmDialog(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 25\n      }\n    }, \"Show Edit\"), this.state.showEditOptions && showCompact === false && /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      className: classes.button,\n      color: \"secondary\",\n      onClick: () => this.toggleEditOptions(\"hideEdit\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 25\n      }\n    }, \"Hide Edit\")), showCompact === true ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FilterForm, {\n      users: this.props.users,\n      filters: this.state.filters,\n      setFilters: values => this.setState({\n        filters: values\n      }),\n      filterEntry: this.props._filterEntry,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 31\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MUIDataTable, {\n      title: \"Malwa Hardware\",\n      data: compactEntries,\n      columns: this.compactColumns,\n      options: this.options,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 21\n      }\n    }))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MUIDataTable, {\n      title: \"Malwa Hardware\",\n      data: entries,\n      columns: this.state.columns || this.columns,\n      options: this.options,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(DialogWrapper, {\n      title: \"Authenticate\",\n      content: /*#__PURE__*/React.createElement(AdminAuthentication, {\n        verifyPassword: this.checkAdminPassword,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 30\n        }\n      }),\n      isOpen: this.state.isEditConfirmDialogOpen,\n      onSubmit: this.onEditConfirmDialogSubmit,\n      onClose: this.closeEditConfirmDialog,\n      formName: \"admin-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(ModalWrapper, {\n      title: \"Add Entry\",\n      isOpen: addEntryModalShowing,\n      minWidth: 720,\n      showBottomToolbar: false,\n      showCloseIcon: true,\n      onClose: this.closeAddEntryModal,\n      showResizeOptions: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(EntryForm, {\n      onCancel: this.closeAddEntryModal,\n      addEntry: this.props._addEntry,\n      users: this.props.users,\n      inventories: this.props.inventories,\n      selectedEntry: this.props.selectedEntry,\n      entryMode: this.state.entryMode,\n      updateEntry: this.props._updateEntry,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(ModalWrapper, {\n      title: \"Add User\",\n      isOpen: addUserModalShowing,\n      minWidth: 260,\n      showBottomToolbar: false,\n      showCloseIcon: true,\n      onClose: this.closeAddUserModal,\n      showResizeOptions: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(AddUserForm, {\n      onCancel: this.closeAddUserModal,\n      addUser: this.props._addUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(ModalWrapper, {\n      title: \"Add Inventory\",\n      isOpen: addInventoryModalShowing,\n      minWidth: 260,\n      showBottomToolbar: false,\n      showCloseIcon: true,\n      onClose: this.closeAddInventoryrModal,\n      showResizeOptions: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(AddInventoryForm, {\n      onCancel: this.closeAddInventoryrModal,\n      addInventory: this.props._addInventory,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(DeleteDialogWrapper, {\n      itemTobeDeleted: \"entry\" // itemName={selectedRowIp}\n      ,\n      onClose: this.hideDeleteDialog,\n      onSubmit: this.onDeleteEntry,\n      isOpen: this.state.showDeleteDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default withStyles(styles)(EntriesManager);","map":{"version":3,"sources":["/home/adnan/Desktop/Projects/pocs/credit-debit-software/client/src/containers/EntriesManager/entries-manager.js"],"names":["React","Component","MUIDataTable","Button","EditIcon","DeleteIcon","LocalMallOutlinedIcon","withStyles","PersonAddOutlinedIcon","AddCircleOutlineOutlinedIcon","ModalWrapper","EventOutlinedIcon","PermIdentityOutlinedIcon","DialogWrapper","AdminAuthentication","EntryForm","AddUserForm","AddInventoryForm","DeleteDialogWrapper","FilterForm","styles","fetchProducts","ArrowDownwardIcon","ArrowUpwardIcon","EntriesManager","constructor","props","compactColumns","name","display","columns","color","options","customBodyRender","value","tableMeta","updateValue","_fetchEntryInfo","setState","entryMode","deleteItemId","showDeleteDialog","filterType","responsive","rowsPerPage","selectableRowsHeader","selectableRows","rowsPerPageOptions","fixedHeader","getProducts","response","console","log","openAddEntryModal","_openAddEntryModal","openAddUserModal","_openAddUserModal","openAddInventoryModal","_openAddInventoryModal","closeAddEntryModal","_closeAddEntryModal","closeAddUserModal","_closeAddUserModal","closeAddInventoryrModal","_closeAddInventoryModal","onDeleteEntry","selectedEntry","_deleteEntry","entry_mode","hideDeleteDialog","openEditConfirmDialog","isEditConfirmDialogOpen","closeEditConfirmDialog","isAuthenticated","onEditConfirmDialogSubmit","e","preventDefault","toggleEditOptions","showEditOptions","filteredColumns","filter","column","index","localStorage","setItem","checkAdminPassword","values","adminPassword","_doAuthenticateEdit","createNotification","state","addEntryModalShowing","showCompact","savedEntries","filters","created_at","user_id","componentDidMount","_fetchEntries","_fetchUsers","_fetchInventories","authenticated","getItem","render","entries","addUserModalShowing","addInventoryModalShowing","classes","compactEntries","button","AddEntryButton","marginRight","users","_filterEntry","_addEntry","inventories","_updateEntry","_addUser","_addInventory"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport MUIDataTable from \"mui-datatables\";\nimport Button from \"@material-ui/core/Button\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport LocalMallOutlinedIcon from \"@material-ui/icons/LocalMallOutlined\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport PersonAddOutlinedIcon from \"@material-ui/icons/PersonAddOutlined\";\nimport AddCircleOutlineOutlinedIcon from \"@material-ui/icons/AddCircleOutlineOutlined\";import ModalWrapper from \"../../components/ModalWrapper/ModalWrapper\";\nimport EventOutlinedIcon from \"@material-ui/icons/EventOutlined\";\nimport PermIdentityOutlinedIcon from \"@material-ui/icons/PermIdentityOutlined\";\nimport DialogWrapper from \"../../components/DialogWrapper/DialogWrapper\";\nimport AdminAuthentication from \"../../components/AdminAuthentication/AdminAuthentication\";\nimport EntryForm from \"../../components/EntryForm/EntryForm\";\nimport AddUserForm from \"../../components/AddUserForm/AddUserForm\";\nimport AddInventoryForm from \"../../components/AddInventoryForm/AddInventoryForm\";\nimport DeleteDialogWrapper from \"../../components/DeleteDialogWrapper/DeleteDialogWrapper\";\nimport FilterForm from \"../../components/FilterForm/FilterForm\";\nimport styles from \"./styles\";\nimport {fetchProducts} from \"./entries-manager-api.js\";\nimport ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\nimport ArrowUpwardIcon from \"@material-ui/icons/ArrowUpward\";\nclass EntriesManager extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            addEntryModalShowing: false,\n            showCompact: true,\n            savedEntries: [],\n            entryMode: \"add\",\n            showDeleteDialog:false,\n            showEditOptions:false,\n            columns:this.columns.filter((column,index) => index < 7 ),\n            isEditConfirmDialogOpen:false,\n            compactColumns:this.compactColumns,\n            filters:{created_at:null,user_id:null}\n        };\n    }\n\n    compactColumns =  [\n        {\n           name: \"Inventory\"\n       }, {\n           name: <div style={{display:\"flex\"}}>\n           <ArrowUpwardIcon color=\"primary\"/>\n           {\" \"}\nTaken\n       </div>\n       },{\n           name: <div style={{display:\"flex\"}}>\n           <ArrowDownwardIcon color=\"primary\"/>\n           {\" \"}\nGiven\n       </div>\n       }, {\n           name: <div style={{display:\"flex\"}}>\n               <LocalMallOutlinedIcon color=\"primary\"/>\n               {\" \"}\nBalance\n           </div>\n       }\n   ]\n\n    columns = [\n        {\n            name: <div style={{display:\"flex\"}}>\n                <EventOutlinedIcon color=\"primary\"/>\n                {\" \"}\nCreated_at\n            </div>\n        }, {\n            name: \"Inventory\"\n        },  {\n            name: <div style={{display:\"flex\"}}>\n                <PermIdentityOutlinedIcon color=\"primary\"/>\n                {\" \"}\nUsername\n            </div>\n        },{\n            name: <div style={{display:\"flex\"}}>\n            <ArrowUpwardIcon style={{color:\"red\"}}/>\n            {\" \"}\nTaken\n        </div>\n        }, {\n            name: <div style={{display:\"flex\"}}>\n            <ArrowDownwardIcon style={{color:\"green\"}}/>\n            {\" \"}\nGiven\n        </div>\n        }, {\n            name: <div style={{display:\"flex\"}}>\n                <LocalMallOutlinedIcon color=\"primary\"/>\n                {\" \"}\nBalance\n            </div>\n        }, {\n            name: \"Edit\",\n            options: {\n                customBodyRender: (value, tableMeta, updateValue) => {\n                    return (\n                        <Button onClick={() => {\n                            this.props._fetchEntryInfo(value,\"edit\");\n                            this.setState({ entryMode: \"edit\" });\n                        }}>\n                            {\" \"}\n                            <EditIcon color=\"primary\" />\n                        </Button>\n                    );\n                }\n            }\n        },{\n            name: \"Delete\",\n            options: {\n                customBodyRender: (value, tableMeta, updateValue) => {\n                    return (\n                        <Button onClick={() => {\n                            this.props._fetchEntryInfo(value,\"delete\");\n                            this.setState({ entryMode: \"delete\",deleteItemId:value,showDeleteDialog:true });\n                        }}>\n                            {\" \"}\n                            <DeleteIcon color=\"primary\" />\n                        </Button>\n                    );\n                }\n            }\n        }\n    ]\n\n   options = {\n       filterType: \"multiselect\",\n       responsive: \"scroll\",\n       rowsPerPage: 100,\n       selectableRowsHeader: false,\n       selectableRows: false,\n       rowsPerPageOptions: [\n           10, 30, 50, 100\n       ],\n       fixedHeader: true\n   };\n    \n getProducts = async () => {\n    const response = await fetchProducts();\n    console.log(response,\"product response\");\n}\n   componentDidMount() {\n        this.getProducts();\n       this.props._fetchEntries();\n       this.props._fetchUsers();\n       this.props._fetchInventories();\n       const authenticated = localStorage.getItem(\"authenticated\",true);\n       if(authenticated === \"true\"){\n           this.setState({columns:this.columns,showEditOptions:true});\n       }\n   }\n    openAddEntryModal = () => {\n        this.props._openAddEntryModal();\n    }\n    openAddUserModal = () => {\n        this.props._openAddUserModal();\n    }\n    openAddInventoryModal = () => {\n        this.props._openAddInventoryModal();\n    }\n    closeAddEntryModal = () => {\n        this.props._closeAddEntryModal();\n        this.setState({ entryMode: \"add\" });\n    }\n    closeAddUserModal = () => {\n        this.props._closeAddUserModal();\n    }\n    closeAddInventoryrModal = () => {\n        this.props._closeAddInventoryModal();\n    }\n    onDeleteEntry = () => {\n        const { selectedEntry } = this.props;\n        this.props._deleteEntry({...selectedEntry,entry_mode:\"edit\"});\n    } \n    hideDeleteDialog = () => {\n        this.setState({ entryMode: \"add\",showDeleteDialog:false });\n    }\n\n    openEditConfirmDialog = () => {\n        this.setState({isEditConfirmDialogOpen:true});\n    }\n    closeEditConfirmDialog = () => {\n        this.setState({isEditConfirmDialogOpen:false,isAuthenticated:false});\n    }\n    onEditConfirmDialogSubmit = (e)  =>{\n        e.preventDefault();\n    }\n\n    toggleEditOptions = (value) => {\n        let columns = this.columns;\n        if(value === \"showEdit\"){\n            this.setState({showEditOptions:true,columns:columns});\n        }else if(value === \"hideEdit\"){\n            const filteredColumns = columns.filter((column,index) => index < 6 );\n            localStorage.setItem(\"authenticated\",false);\n            this.setState({columns:filteredColumns,showEditOptions:false});\n        }\n    }\n    checkAdminPassword = (values) => {\n        if(values.adminPassword === this.props.adminPassword){\n            localStorage.setItem(\"authenticated\",true);\n            this.props._doAuthenticateEdit(true);\n            this.toggleEditOptions(\"showEdit\");\n            this.closeEditConfirmDialog();\n        }else{\n            this.props.createNotification(\"Incorrect credentials\",\"error\");\n        }\n    }\n    \n    render() {\n        const { entries, addEntryModalShowing,addUserModalShowing,addInventoryModalShowing,classes,compactEntries } = this.props;\n        const { showCompact } = this.state;\n        return (\n            <div>\n                {this.state.showCompact &&\n                        <Button color=\"primary\" variant=\"contained\" onClick={() => this.setState({showCompact:false})}>\n                            Show Detailed \n                        </Button>\n                    }\n                    {!this.state.showCompact &&\n                        <Button variant=\"contained\" color=\"primary\" className={classes.button}  onClick={() => this.setState({showCompact:true})}>\n                            Show Compact\n                        </Button>\n                    }\n                <div className={classes.AddEntryButton}>\n                    <Button color=\"primary\" variant=\"contained\" className={classes.button} onClick={this.openAddEntryModal}>\n                        <AddCircleOutlineOutlinedIcon />\n                        <span style={{marginRight:5}}></span>\n                        <span>\nAdd Entry\n                        </span>\n                    </Button>\n                    <Button color=\"primary\" variant=\"contained\" className={classes.button} onClick={this.openAddUserModal}>\n                        <PersonAddOutlinedIcon /> \n                        {\" \"}\n                        <span style={{marginRight:5}}></span>\n                        <span>\nAdd User\n                        </span>\n                    </Button>\n                    <Button color=\"primary\" variant=\"contained\" className={classes.button} onClick={this.openAddInventoryModal}>\n                        Add Inventry\n                    </Button>\n                    {!this.state.showEditOptions && showCompact === false &&\n                        <Button color=\"primary\" onClick={() => this.openEditConfirmDialog()}>\n                            Show Edit \n                        </Button>\n                    }\n                    {this.state.showEditOptions && showCompact === false &&\n                        <Button variant=\"outlined\" className={classes.button} color=\"secondary\" onClick={() => this.toggleEditOptions(\"hideEdit\")}>\n                            Hide Edit\n                        </Button>\n                    }\n                    \n                </div>\n                {showCompact === true ? <>\n                              <FilterForm\n                        users={this.props.users}\n                        filters={this.state.filters}\n                        setFilters={(values) => this.setState({filters:values})}\n                        filterEntry={this.props._filterEntry}\n                    />\n                <div>\n                    <MUIDataTable\n                        title={\"Malwa Hardware\"}\n                        data={compactEntries}\n                        columns={this.compactColumns}\n                        options={this.options}\n                    />\n                </div></>: <>\n                <div>\n                    <MUIDataTable\n                        title={\"Malwa Hardware\"}\n                        data={entries}\n                        columns={this.state.columns || this.columns}\n                        options={this.options}\n                    />\n                </div>\n                </>}\n\n                <DialogWrapper\n                    title={\"Authenticate\"}\n                    content={<AdminAuthentication verifyPassword={this.checkAdminPassword}/>}\n                    isOpen={this.state.isEditConfirmDialogOpen}\n                    onSubmit={this.onEditConfirmDialogSubmit}\n                    onClose={this.closeEditConfirmDialog}\n                    formName={\"admin-password\"}\n                >\n\n                </DialogWrapper>\n                <ModalWrapper\n                    title={\"Add Entry\"}\n                    isOpen={addEntryModalShowing}\n                    minWidth={720}\n                    showBottomToolbar={false}\n                    showCloseIcon={true}\n                    onClose={this.closeAddEntryModal}\n                    showResizeOptions={false}\n                >\n                    <EntryForm\n                        onCancel={this.closeAddEntryModal}\n                        addEntry={this.props._addEntry}\n                        users={this.props.users}\n                        inventories={this.props.inventories}\n                        selectedEntry={this.props.selectedEntry}\n                        entryMode={this.state.entryMode}\n                        updateEntry={this.props._updateEntry}\n                    />\n                </ModalWrapper>\n                <ModalWrapper\n                    title={\"Add User\"}\n                    isOpen={addUserModalShowing}\n                    minWidth={260}\n                    showBottomToolbar={false}\n                    showCloseIcon={true}\n                    onClose={this.closeAddUserModal}\n                    showResizeOptions={false}\n                >\n                    <AddUserForm\n                        onCancel={this.closeAddUserModal}\n                        addUser={this.props._addUser}\n                    />\n                </ModalWrapper>\n                <ModalWrapper\n                    title={\"Add Inventory\"}\n                    isOpen={addInventoryModalShowing}\n                    minWidth={260}\n                    showBottomToolbar={false}\n                    showCloseIcon={true}\n                    onClose={this.closeAddInventoryrModal}\n                    showResizeOptions={false}\n                >\n                    <AddInventoryForm\n                        onCancel={this.closeAddInventoryrModal}\n                        addInventory={this.props._addInventory}\n                    />\n                </ModalWrapper>\n                <DeleteDialogWrapper\n                    itemTobeDeleted={\"entry\"}\n                    // itemName={selectedRowIp}\n                    onClose={this.hideDeleteDialog}\n                    onSubmit={this.onDeleteEntry}\n                    isOpen={this.state.showDeleteDialog}\n                />\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(EntriesManager);\n"]},"metadata":{},"sourceType":"module"}